# OdooERPOperation

## 一，质量模块
步骤
1. 安装质量控制app Quality Control App
2. 建立控制点Control Points
3. 做质量检测Quality Checks
4. 产生质量报警Quality Alerts
5. 用报告分析结构Reporting

## 二，Sales销售模块
### 1，建立客户

客户类型可选individual或者Company。在odoo10里面，individual和company都可以选多联系人。
在res.partner里面is_company是一个布尔字段，如果是公司则为TRUE
customer是一个布尔字段，勾选时在数据库里为TRUE
Vendor还没发现
在res.partner里面建立客户时，res.user里面并没有相应的数据，反过来应该是成立的。用的是委托继承，考虑一下m.part和product.template的关系。还有一种实现方法是数据库的触发器，同步两个表。


### 2，如果只安装了一个销售模块，在创建联系人的时候会提示
```xml
The following fields are invalid:
Account Receivable
Account Payable
```
需要再安装a chat of account(会计科目表)模块来解决这个问题。开始只安装了一个中国会计科目表，还是不好用。后来又安装了中国小企业会计科目表，就可以创建客户了。
在培训的时候可以说明，填表form时候，TAB移动到下一个字段，SHIFT+TAB移动到上一个字段。
如果是有关联的字段，需要一定的填写顺序。比如先填国家，再填省份。


### 3，建立产品
在表product.template和product.product两个表都建立条目，product.product里面有一个ID指向product.template

#### general information
Can be sold对应字段sale_ok
Can be Purchased对应字段purchase_ok
在没安装采购管理的时候,odoo10也可以指定产品是否能被采购了。

Product Type 目前有两个选项Service和consu，对应字段type
service不会建立采购订单，consumables是实际出售的，可以配置来生成采购单

Internal Reference可以输入公司内部编码

#### sales

页面里什么也没有，随着应用的安装或者配置变化，里面的内容就不一样了，这在odoo里面很常见。

#### invoicing
开发票页面，有客户税和供应商税两个选项，因为安装了会计科目，就自动填上了。odoo支持一个商品多个税种叠加。

invoicing policy
默认情况下，odoo配置发票，发票的line items将会从销售单中基于ordered quantities建立。这会导致即使没有发货，客户也会被开发票。反之，你可以改变在客户收到货物的时候开发票。如果你有一个在销售单的物品还没有投递，客户将不会被开发票。

### 4，建立sales order
在建立销售单的时候，product是可以建立的，如何限制销售部门不能建立产品。正常的产品应该研发中心给出号。

1. 理解销售单的工作流
开始是询价单，经过发送邮件或者打印报表变成订单

### 5, 开发票
开发票有几个选项，和定金(down payment)相关。
数据库表account_invoice_line存储了订单关联的订单项
表account_invoice存储了订单
在主菜单invoicing里面可以看到这个发票

随带讲了几句breadcrumb面包屑导航

## 三，CRM模块


## 四，采购模块

### 理解采购流程
完全有可能创建一个产品并在不实施采购系统的情况下出售。

* 建立供应商

* 建立库房位置:在odoo里每个位置有一个自己的地址，可以建立嵌套的子位置以便更好管理和报告

* 产生报价单和订单
为了获取原材料，你可能要先建立一个报价单发给供应商，在采购中，建立文档告诉供应商，哪个产品你需要，量是多少，期望花多少钱。通常也叫做采购。
依赖企业和公司的特别位置，可能有各种方法来管理报价和审批。

* 接收货物
在一个简单的采购工作流，一旦你的采购单被供货商接收，你将会等待执行订单。某时，你会收到产品。根据你的企业，日期可以是同一天，或者延长至月。当投递完成，你
将接收产品到你选择的位置。
现在产品接收完毕，你已经建立一个制造单。但是首先，让我们给供应商付款。

* 结清发票
一旦你收到产品，付钱只是时间问题。发票可以在你订购产品的时候，在产品发送给你的时候，或者你收到产品的时候。无论何时获得发票，您都可以确定，如果您收到产品，您最终将为其发票。

收到发票时，必须将其与采购订单的准确性进行比较。 采购订单和发票之间的任何差异必须在发票付清之前解决。 基本上，这是确保您只支付您授权购买的产品的方法。 最后，将收货或交货订单与采购订单和发票进行匹配也是很好的做法。

### 安装采购应用
Odoo的模块化可以只安装需要的应用。当安装完了采购应用后，将会多出采购和库房两个菜单，可见采购和库房的关系。

> 可能采购管理这个模块以及安装完了，比如电子商务模块就需要采购管理做依赖。

purchases菜单是一个你能建立报价单和采购单的地方。inventory菜单可以管理物理意义上的库房。如果你简单的看看这些菜单，你会发现有的子菜单会出现在两个菜单里，例如products

* 设定第一个供货商

Odoo还列出了您可以从供应商管理中获得的一些功能，例如跟踪讨论，购买历史和与供应商关联的文档。

事实上，客户也可以成为供应商，这是完全可以接受的。 创建新的供应商记录时，供应商复选框会在表单上的销售和采购页面下自动为您标记。 有时候这会让刚接触Odoo的人感到困惑。 本章将开始使Odoo中的公司，联系人，客户和供应商之间的关系更加清晰。

* 指定供应商公司与个人

就像你建立一个客户一样，在form的顶端需要选择公司还是个人。这次我们选择公司。

* 为采购配置产品

当我们建立第一个产品的时候，我们只关心给一个客户出售我们的产品。我们只给产品命名并且设置了售价。
为了从供应商处采购，我们必须提供更多一点的信息。为了达到这个目的，我们在采购标签下编辑产品信息。就是我们要把产品里inventory页面里的routes选择为Buy

供应链信息：在Odoo10里面，你有更多的选择管理你的采购供应链。幸运的是，Odoo默认设置了两种通用的路线：Buy和Make to Order。对采购来说，我们选择buy以便Odoo可以正确地把我们采购的商品从我们的供应商路由到我们的内部仓库。

Buy：当您配置buy路线时，您可以通过以下两种方式之一购买产品。 购买此产品的方法之一是创建采购订单并手动将产品添加到采购订单。 这是典型的手动采购系统，其中采购代理可能使用Odoo以外的其他事件或检查Odoo中的报告来创建采购订单。 

除了创建手动采购订单之外，还可以创建重新订购规则，当产品库存低于设定的最小值时，将自动创建采购订单草稿。 这种方法适用于频繁订购的产品，使您的采购经理不必为某些甚至大部分库存手动创建采购订单。

Make To Order：当您配置Make To Order路线时，您将告诉Odoo您希望在销售订单包含该特定产品时创建草稿采购订单，而不管手头有多少库存。 例如，即使您的库存中有2,000件产品，并且客户订购了10件产品，但如果您已选中了“到草稿采购单”路线，Odoo仍将为10个产品创建一个草稿采购订单。

通常情况下，企业在不需要保留产品库存的情况下会使用“生成草稿采购单”选项，在这种情况下一旦销售订单得到确认，就会生产或购买用于转售的产品。 当然，可以使用“购买”和“生成草稿采购单”的组合来重新订购限制，以建立一个始终保持库存最小数量的系统，这种情况下也会为包含该产品的销售订单创建草稿采购订单。 请记住，草稿订单总是可以取消，所以根据采购部门的流程，即使他们希望在Odoo中保持自己的最小和最大限制，他们也可能需要“生成草稿采购单”的行为。

* 采购信息

除了“采购”选项卡下的更改之外，我们还需要在产品表格的“常规信息”页面上进行一些更改：在安装了采购后（也可能是仓库后），在“常规信息”页面Product Type里面多了一个Stockable Product。使用这种类型代表我们希望管理产品的库存或者直接卖给客户。另一种选择是consumable类型，这种类型对不希望管理库存，直接采购使用将是一个很好的选择，比如办公用品或者休息室使用的咖啡过滤器。

> 和大部分的Odoo记录一样，可是设置product记录为Inactive，以便当新建新的销售单或者采购单时本条产品不再有效。

> 一旦你使用一个产品进行交易，你将不能在系统中删除那个产品。取尔代之设置active为false以便product不再出现。使用筛选中active flag为false可以找到这些product。

* 设置产品的价格

通常情况下，您会希望为产品分配成本。这将是在您的采购报价上出现的成本，尽管它可以在任何时候被覆盖以反映供应商的新价格。 如果您的供应商恰好为您提供一次性折扣，则您将希望在实际采购订单上反映这种变化，而不是在基本产品记录中反映这种变化。 对于我们的例子，我们已经将衬衫的成本价格设置为7.25。


* 指定产品的供应商

在Inventory页面的底部可以选择添加供应商。非常普通的情况是一个产品有多个供应商供货

您可以在下拉列表中选择搜索供应商，也可以即时创建和编辑新的供应商。 在下拉的最右侧，可以使用小图标编辑当前供应商。

指定供应商产品名称和产品代码：由于供应商可能使用与贵公司不同的产品代码或产品名称来描述给定产品，因此您可以在此处指定供应商如何识别产品。 此信息将显示在您创建的采购询价单和采购订单上，以确保您从供应商处获得正确的产品。

设置最小量：供应商通常会有一个产品的最低订货量。 有时候，供应商实际上可能会卖给你一个最低的数量，但是单位成本要高得多。 以这种形式设置最小数量可以防止这些问题：通过强迫购买数量至少是最小数量。 对于我们的例子，我们将最小数量设置为12。

计算交付时间：根据供应商的不同，产品可能需要更少或更多的时间才能获得。 通常情况下，如果您在汇总时间敏感的采购报价单时可能会有用。 产品可能会更便宜，但如果延迟时间过长，交货时间受到威胁，则可能需要以更高的价格从另一个可以更快交付产品的供应商那里购买产品。 设置供应商交付产品的交货时间（天数）为您的采购代理提供了基于价格和可用性作出决定所需的信息。 对于我们的例子，我们已经将交货时间设置为4天。

设置价格和检验：现在在Odoo 10中，您还可以指定该特定供应商的物料价格。 这简化了您的供应商定价管理。 当您为特定供应商选择给定项目时，您将获得您在此指定的价格。 或者，您可以指定有效日期，以便在供应商推出新产品或可能停止产品时主动管理产品。



* 建立第一个采购询价单

我们为T恤建立一个询价单，首先选择供应商，然后添加产品，然后打印询价单并更新状态，最后确认询价单。一旦确认就变成采购单，不能改变。在这个阶段需要做的任何修改都需要你复制和取消原来的订单。 这是必要的，以便Odoo可以维护审计跟踪。

订单建立完毕，库房里就会多一条记录状态是Available

* 接收产品

后点击receive product会跳转到收货form页面，这时我们实际还没收到货物，页面只是展示了收货信息WH/IN/00001是系统分配的序号，可以在系统里设置。

如果收到的量和采购量不符合，可以在这里修改

如果选择了validate就是确认入库，库房的数量就会增加，如果在确认后又返还给供应商，库房数量就会减少，可以在product页面的on hand看到这个数量。

* 给供应商付款

一旦你收到了货物，马上就能收到bill，也叫供应商发票invoice.在odoo10里面需要手工建立发票

在发票菜单的采购/供应商发票里面建立发票，选择好供应商和采购订单后，所需信息会自动填进去。

> 在实施采购订单系统时，彻底培训用户如何将交易捆绑在一起是至关重要的。 虽然许多表单允许您点击链接查看相关记录，但PaymentRef等字段仅以文本形式存储数据。 培训和鼓励用户快速使用复制和粘贴，而不是重新输入数据到搜索字段。

Odoo将允许您配置多种付款方式。 现在，选择银行，然后点击验证完成交易。 您现在已经完成了从采购，收货到最终付款的整个采购周期

### 总结


在本章中，我们安装了采购申请并建立了一个供应商来购买产品。 接下来，我们成功购买了产品，并将这些产品收入库存。 我们的产品收到库存后，我们继续支付发票，以完成付款周期。 在下一章中，我们将把刚刚收到的原材料存入库存，并用它们来生产和交付成品。 我们将创建制造订单来定义生产过程的步骤并分配所需的资源。 协调您的所有资源，包括机械和人力，可能是一项艰巨而耗时的工作，但我们正在学习Odoo如何使这一切变得更加易于管理。

## 五，MRP模块
在本章中，我们将介绍如何使用Odoo来管理制造产品的过程。 一旦在仓库中你收到需要的原材料，您可以开始制造最终产品。 ERP系统的一部分功能是帮助你根据可用资源安排这些订单。 其中的资源之一当然是原材料。 其他资源可能包括可用劳动力或特定机器的可用性。 

本质上，目标是在所有资源可用的时间安排制造订单，并生产产品按时交货。

在本章中，我们将介绍以下主题：
* 建立制造过程
* 定义我们的材料清单
* 制造我们的最终产品
* 分析库存报告

当你想生产产品的时候，制造订单定义您想要建立的产品和必要的资源。 另外，它们也可以包含有关工作单的信息和与之相关的工艺路线的信息。


### 生产产品

当实际生产产品的时候，你就通知Odoo生产的每个产品和您的生产订单变更为完成状态。 在典型的工作流程中，您的原材料将被移出库存，你的成品被添加到你的库存。


### 投递货物

一个产品生产完成后，被存入库存中，可以打包并交付给客户。 取决于具体制造环境，一个产品甚至不用放置在一个物理上的库存位置，而是几乎立即运到客户手中。同时在另一个行业，你可能有一个产品生产，然后在交货之前坐在仓库里数月。 当然，总是有可能产生一些东西，并被留下作为滞销品。 在这种情况下，你甚至不会有交货单，你需要使用一个流程来确定如何管理滞销的库存。

### 定义生意的工作流

很像配置CRM应用程序，通常建立采购制造系统最复杂的一部分不是ERP软件本身。 相反，真正的挑战是要了解业务需求以及当前流程如何最好地实施。 如果你以前从来没有建立过采购和制造系统，强烈建议您使用项目中的附加源材料补充您的知识
，请参阅附录以参考额外的ERP和制造资源。

### 生产一件T恤的真实例子

在Odoo，您通过创建制造订单来制造产品。 就我们的例子而言，我们将会印制具有定制设计标志的T恤。 基本的制造过程本身涉及使用screen将油墨涂抹到每件T恤上。 现在，我们不需要知道这个过程的所有细节，就可以开始使用Odoo来帮助安排和跟踪产品的生产。 

在这个过程中的基本步骤很简单：
* 定义一个物料清单，确定生产最终产品所需要的物品
* 使用制造订单在空白的T恤上打印设计
* 将印刷的T恤交付给客户

### 安装MRP

我们现在必须安装制造资源计划（MRP）应用程序，以便我们开始配置我们的T恤生产。 现在您应该开始了解Odoo的模块化特性。 像安装其他Odoo应用程序一样安装MRP应用程序：

建立第一个生产订单：
Odoo的灵活性提供了各种方法，您可以使用这些方法设置您的系统。制造也可能成为一个复杂的话题，并且是建立任何ERP系统更具挑战性的方面之一。 对于我们的第一个制造订单，我们将忽略许多高级选项。

> 首先保持简单。 有很多选项，需要时间来理解它们。如果你是制造系统的新手，那么你需要更长的时间来实现Odoo，你应该考虑聘请专业顾问来协助你。


要创建第一个制造订单，请转到“制造”菜单，选择“制造订单”，然后单击“创建”：

这是制造订单，因为它刚刚出现在创建之后。花一点时间查看各个标签，并了解为制造订单收集的信息。 不要担心，如果你不明白所有的选择。 我们将从一个简单的产品开始，看看制造订单的一些最重要的方面。 稍后，我们将探索一些更复杂的制造情景。

我们要制造什么产品？ 到目前为止，我们进入Odoo的唯一产品是中型白色T恤，这是空白的。 收到供应商提供的信息时，T恤上没有印上任何东西。 现在，我们要创建一个制造订单，生产一种新产品，在T恤上打印客户选择的设计。

对于我们的业务，我们仍然可以使用中型白色T恤。 但是现在不是直接向客户销售这件空白的T恤衫，而是将其用作我们制造订单的原材料。

首先配置在制造过程中要创建的最终产品，即完成最终设计的T恤，然后交付给客户。 就我们的例子来说，这将是“2016经典款T恤”。

Odoo允许您可以使用很多form来创建产品。我们通过点击产品选项卡下的下拉箭头并选择Create and Edit...来创建产品：

使用快速Create and Edit...，您可以在创建制造订单时直接添加成品。在某些工作流程中，您可以使用单独的系统处理销售订单，该选项可以快速创建所需的成品以推入库存。 接下来，您将填写产品表格，并填写成品所需的字段：

General Information和Inventory标签现在应该看起来很熟悉。从Odoo 9开始，Odoo提供的路线在定义复杂的工作流程和供应管理操作方面有很大的灵活性。幸运的是，更常见的路线已经配置，我们可以勾选Manufacture选项让Odoo制造知道这个产品是制造工作流的一部分。只有当产品拥有了Manufacture方法，才能在制造单中被选择。 **重要**

请注意在窗体的顶部Can be Purchased框未选中。 这将使该产品不会出现在采购订单的产品清单中。 由于我们不能直接从供应商处购买此产品，因此我们不希望在采购时使用该产品。

### 建立物料清单

物料清单（BOM）本质上是生产另一种产品所需的产品清单。你可以把它想像成一个食谱的配料列表。 Odoo需要知道我们需要什么样的材料才能生产这种“2016经典款T恤”。

**在复杂的产品中，物料清单可以嵌套**例如，可能需要很多产品来生产一个子产品，然后再生产几个子产品来生产最终产品。

> 提示不要让嵌套的BOM吓倒你。一旦您了解了如何处理一个简单的BOM，您将更容易看到如何将部件组合在一起。考虑通过装配和工作中心来分组更复杂的BOM。这样可以更轻松地实时查看库存，因为可以在操作的每个阶段处理BOM，正确使用材料并创建完成的子装配。

需要仔细思考是把自有bom作为研发bom，系统bom作为工艺bom，使用数据库触发器同步新增，修改，删除或者委托继承。然后利用工艺bom和系统的路线及工作中心对接好还是
只保留系统bom，然后扩展出自有bom的字段？
现在我有一点倾向于前者了，能达到对系统的最小修改。又能保证工艺的灵活性。


对于我们的第一个物料清单例子，我们将保持简单的物料清单。我们只是要求白色的T恤。剩下的印刷实际T恤的操作将被纳入制造订单中。换句话说，如果有足够的白色T恤衫，这个制造订单就可以被处理，我们可以生产最终产品。目前，墨水和丝网在制造过程中将不被管理。 这是一个简单的例子，在以后当构建系统时会增加更多的复杂性。

表单右上方的智能按钮显示附加到此产品的物料清单计数：

点击这个按钮将弹出该产品的物料清单：当然，这是一个空白的清单，因为我们还没有定义这个产品的物料清单。 请注意的右上角，产品过滤器就是限制这个列表视图只显示“2016经典款T恤”的物料清单。

点击创建现在会弹出一个空白的物料清单表格，“2016经典款T恤”自动预填充为完成的产品：

由于Odoo知道我们正在为我们的“2016经典款T恤”产品创建物料清单，因此许多字段将自动填写。 在这个例子中，我们添加了Medium White T-Shirt到清单材料里。当我们制造“2016经典款T恤”，我们将需要一个中等的白色T恤。

很多时候，如果不是大部分时间，材料清单将包含多个项目。无论物料清单中物料的数量如何，其处理方式都完全相同。

>提示:您的制造订单或物料清单屏幕可能与您在此处看到的略有不同。一个原因是，根据安装的模块和选择的选项，表单可能有不同的内容。另一个常见的原因是Odoo目前正在频繁更新，可能会改变给定表单的外观。

确认生产：一旦您点击Confirm Production，您就可以生产产品了。 Odoo将提供合理的默认值，您可以根据需要重写。生产确认后，并不意味着生产实际上已经发生。生产确认只告诉系统生产准备就绪。您可以告诉我们准备开始制造，因为“产品”按钮可用。

以下是我们的“2016经典款T恤”制造订单现在的样子：

这里的制造form显示了哪些物料将会被消耗掉用于生成订单。 在这种情况下，这是我们的中型白色T恤。 你也会注意到这个项目是红色的，在表单顶部你可以看到警告原材料不可用！ 这告诉我们，我们必须检查我们的原材料的可用性，才能开始制造这个产品。

检查可用性：Odoo制造模块会自动链接到库存中，并使用可用库存来完成订单。 因为在之前的章节里面我们已经购买中型白色T恤，点击Check availability按钮将会隐藏按钮，并去掉之前的原材料报警信息。

请注意，在这个阶段，如果您没有可用的数量，Odoo将继续显示“检查可用性”按钮和警告消息，直到产品被收购并放入库存。 每次“点击检查可用性”时，Odoo都会查看库存，看看我们是否有必要的产品，以便我们准备好生产。 或者，您可以单击“生产”以标识Odoo开始制造，即使系统中的库存不符合必要的要求，您实际上也可以生产该产品。 请注意，这样做会给您仓库中的负数库存量。

原料产品得到后，我们准备生产我们的最终产品，表格将更新，并改变状态：
在这里，我们可以在网格中看到库房中可用的中型白色T恤衫的数量，我们将在制造订单中消费的数量，以及订单完成后将消耗的总量。


### 生产产品
当你点击“生产”按钮，你将会收到确认信息

在Odoo 10中，生产向导已经简化，只需要询问您希望生产的成品数量。 对于我们的例子，我们将把数量设置为1.000单位。 点击Record Production按钮生成产品：

产品已经生产出来，并准备好发布到库存中。 如果在这个阶段，你去看看产品记录，你不会看到任何“2016经典款T恤”在手中。在此阶段，您可以点击“Mark as dome”按钮，Odoo将同时发布库存并将制造订单标记为已完成。 或者，您也可以点击“post inventory”按钮将“2016经典款T恤”添加到库存，然后使用单独的步骤单击“Mark as dome”按钮将订单移至已完成状态。

恭喜，您刚刚使用Odoo制造您的第一个产品！ 

分析库存值：在我们的例子中，我们已经采取了原材料，并通过生产成品来增加其价值。 查看我们制造订单效果的最简单方法之一是查看库存评估报告，可以在Inventory \| Inventory Valuation看到。

在这里你会看到，我们现在有一件“2016经典款T恤”和11件中型的白色T恤。 库存准确地反映了我们所购买的产品以及我们制造订单所消耗和生产的产品：

在这个视图里面，一切都是折叠的，结果，许多列是空的。 例如，在此视图中，由于数据已汇总，因此您在“位置”或“传入日期”下看不到任何内容。 您可以使用网格最左侧的小三角形深入查看数据，并查看有关库存值如何得到的更多详细信息。 我们看到的是相同的数据，但扩大了，所以你可以看到的细节：

在更详细的清单中，您将看到如何通过查看库存移动列来获取有关操作的大量信息。在这里，我们可以确切地看到产品来自哪里，去哪里以及它如何影响该位置的产品数量。

按工单管理生产：这第一个生产订单非常简单，我们的物料清单只包含一个产品。 在许多公司，生产操作比较复杂。 例如，在一些情况下，取决于产品的属性，制造可能涉及不同的工作中心或替代步骤来生产最终产品。 默认情况下，Odoo的制造应用程序采用更简化的方法。 进入制造应用程序的设置，允许您指定其他选项。

只需转到Manufacturing\|Settings菜单，然后选择左侧的Configuration部分。 在Routing&Planning下，您可以选择Manage production by work orders(按工单管理生产)。 一旦这个选项被选中，您将有能力管理Odoo内部更复杂的制造过程：

应用更改后，菜单将刷新，新选项将添加到制造应用程序中。 

>提示:有时，当向Odoo添加新功能（例如应用程序或修改设置）时，在浏览器上进行刷新以确保Odoo使用最新的选项,进行刷新会很有帮助。


### 建立工作中心

在我们以前的简化生产订单中，我们指定了材料清单中所需的原始产品，然后将其转换为成品。 现在我们将展开这个例子来说明印制我们的“2016经典款T恤”的人力劳动。 在Odoo中，我们在工作中心定义参数。

就我们的示例而言，我们将创建一个名为Printing的工作中心，负责将空白的T恤和应用设计来创建最终产品。 我们首先转到制造应用程序，然后在“主数据”菜单下选择“工作中心”选项。 然后我们点击创建来创建一个新的工作中心记录：

在我们的例子中，我们已经命名了工作中心Printing。 在全面实施中，根据所执行的工作设置不同的工作中心是很常见的。

设置一般信息：在定义工作中心时，可以定义一般信息，以便估算生产产品所需的成本和时间。 在我们的例子中，我们将配置这个工作中心，以便我们可以估计生产T恤所需的时间。

效率因子：效率因子是衡量这个工作中心完成任务的效率的度量标准。通常情况下，效率因子在允许您调整工作中心容量而无需修改许多其他变量的情况下最具价值。例如，如果您的效率系数为200.00（或200％），那么工作中心将完成两倍的任务。对于我们的例子，我们将效率因子作为默认值100.00或100％。

容量：容量允许您确定工作中心可以并行执行多少任务。例如，如果您的工作中心可以配置三名工作人员，并且所有三名工作人员可以同时完成一个工作周期，则可以将每个周期的容量设置为三。当制造订单传送到工作中心时，工作中心可以同时完成三项任务。对于我们的例子，我们将假设一个工人，因此每个周期有一个能力。

整体设备效能（OEE）目标：在Odoo 10中，制造应用程序现在更加重视跟踪和报告。所提供的信息的核心指标是整体设备效能（OEE）。这本质上是一个计算，它决定了在实际生产中使用的制造时间所占的百分比。这越接近100％，您对资源的使用效率就越高。通过设定工作中心目标，您可以确定您的工作中心满足预期的程度。

生产前后的准备时间：许多工作中心的操作将需要时间，这个时间花费在实际生产产品所耗费的时间之外的准备设置和拆卸时间。 这对我们的例子来说确实如此。 在第一件T恤可以印刷之前，需要花时间准备印刷机和油墨。 就我们的例子而言，我们估计需要五分钟的设置时间。 同样，当我们完成工作订单中的最后一件产品时，清理和准备下一份工作需要时间。 在这个例子中，我们估计在生产结束时需要5分钟的时间进行清理操作。

### 建立工艺路线
定义工作中心后，您需要定义一种方法来指定您应该在哪些条件下使用工作中心。 这是通过定义工艺路线来完成的。 对于我们的例子，我们将保持简单，并使用路线将我们的制造订单发送到印刷工作中心以生产成品。在现实世界的例子中，在最终产品生产之前，工作可以使用工艺路线经历许多工作中心操作。

要创建工艺路线订单，请转至“制造”应用程序并选择“master date”子菜单下的“工艺路线”。 点击Create创建新的路线表单：

在我们的例子中，我们命名Print Job，然后接下来通过点击Add an Item定义我们的工作站操作，打开操作菜单。

在定义我们的操作时，我们可以根据自己的意愿命名，但在这种情况下，我选择了Print T-Shirt。 这表明此操作比我们分配给路线顺序的简单命名“Print Job”更具体。 

对于复杂的路线，您可以指定操作的顺序。 例如，我们可以在打印作业操作之前进行“设计”操作和“构建屏幕”操作。 然后我们可以在“打印作业”之后指定“质量保证”操作和“打包”操作。 您将按照与设置印刷工作中心和创建生产该产品所需的操作这两者完全相同的方式处理所有这些问题。 通过简单地开始并随着时间的推移添加额外的操作和复杂性，您通常可以比从一开始就追踪每个小任务更快速地启动和运行。一旦你设置了你的操作，你的路线应该类似于下面的形式：

### 将工艺路线分配到物料清单

现在我们已经创建了一个路线，我们需要告诉物料清单使用我们新定义的路线。 在以前版本的Odoo中，可以在工单上分配路线权限。 在Odoo 10中，如果您未在物料清单上设置工艺路线，则在您创建制造订单时它将不可用。

为我们的“2016经典款T恤”上拉BOM，并将路线设置为我们刚创建的“Print Job”：


### 建立一个带工艺路线和工作中心的生产订单

现在我们已经定义了我们的工作中心和我们的工艺路线，我们可以创建一个制造订单，以利用我们的新生产步骤。 在这个例子中，我们将生产15个“2016经典款T恤”

当我们选择产品时，Odoo现在将自动为产品分配相关物料清单。 您会在制造订单中注意到Odoo自动选择了Print Job作为此订单的路线。 这是将这项工作送到印刷工作中心生产的关键字段。 

当您点击保存时，您会注意到Odoo尚未自动创建工单。 Odoo 10中有一个单独的按钮来触发创建工作订单。

点击Create Workorders按钮建立工单

你现在可以去operation下面的子菜单Work Orders下面看到kanban视图里面有工单

正如您可以从标签中看到的那样，我们有了一个Ready to produce标签，因此我们现在可以单击表单顶部的Start Working按钮。

此时，Odoo认为这是一个实时跟踪系统。 这意味着当你的工作人员开始工作时，他们应该点击按钮。 当工人完成工作时，他们应该点击完成按钮。通过实施能够运行Odoo的平板电脑或其他工作站，您可以创建一个自动跟踪您的操作时间的制造环境。 

如果您单击时间跟踪Time Tracking选项卡，您可以看到有关当前操作的详细信息以及实时显示更新操作持续时间的计时器：

现在您已经有机会看到该操作正在运行，我们继续并单击完成，以便我们可以在Odoo中看到我们的工作结果。 

Odoo现在刷新屏幕并将工作站操作的状态移至完成。 有一件事需要提及。 工作中心无论其库存中的数量如何都可以完成其操作。 这意味着您很可能会有一个内部流程，在该流程中，员工会首先检查制造订单上的可用性，然后员工甚至不愿意提交工单。

现在让我们看看制造订单：

在这里我们可以看到，因为这是完成制造订单所需的唯一工单，“成品Finished Products”选项卡已经显示15件T恤正在生产。订单将继续保持进行中In Progress，直到您点击标记为完成Mark as Done按钮。此时，制造订单将简单地从列表中删除。

如果您现在进入库存评估inventory valuation，您将看到这些操作的结果。请记住，虽然我们没有足够的白色T恤衫库存，因为我们开始工单，但Odoo让我们继续生产。幸运的是，Odoo保持完整的跟踪显示，如果事实上工人能够生产15件T恤衫，那么库存一定是错误的。因此，我们在我们的库存中看到负数的中等白色T恤衫，以及本章中的两个制造订单生产的“2016经典款T恤”：




### 总结

在本章中，我们安装了MRP应用程序，开始设置我们的制造过程。 物料清单是为了确定我们的产品在制造时会消耗什么样的产品。 我们制造了我们的最终产品，并查看了库存分析报告以验证我们的结果。 然后，我们开启了工作中心功能，以便我们可以探索如何建立工作中心和工艺路线，以更好地控制我们的制造业务。 

在下一章中，我们将仔细研究会计和其他报告选项。 设置您的会计科目表是我们将要讲到的重要一步，同时还要审查日记帐分录，创建发票和收款。 我们还将定义销售税和管理财政期。 是的，还有很多需要补充的内容！

## 六，财务模块
Odoo的好处之一是您可以快速启动并运行，而无需花费大量时间设置复杂的会计和财务选项。 Odoo做了一个合理的工作，创建一个基本的会计科目结构作为起点，并让您熟悉Odoo。 但是，当为贵公司建立生产系统时，您需要花时间来正确定义您的会计要求。 

在本章中，我们将学习如何在Odoo中配置会计，其中包括：
* 安装Accounting and Finance应用程序
* 检查会计科目表
* 了解其他应用程序如何在会计中创建交易
* 添加新的自定义帐户
* 配置会计年度和期间
* 快速 可用会计报告概述
* 创建日记帐分录

### 给你的公司定义会计科目表
会计系统设置的核心是会计科目表。

维基百科定义了如下会计科目表：

会计科目表是一个由业务实体创建的帐户清单，用于定义货币或等价物被花费或收到的每类物品的类别。它用于组织实体的财务状况，并将支出，收入，资产和负债分开，以便让相关方更好地了解实体的财务状况。

很可能，如果您要为现有业务设置Odoo，则会要求您在Odoo中配置会计科目表以匹配业务已在使用的帐户结构。即使您没有与任何现有的会计科目表绑定，但如果您要成功实施，您将需要对Odoo中的会计功能如何工作有一个明确的了解。

如果您对会计完全不熟悉，那么本章可能会遇到一些挑战。如果您想成功实施任何ERP系统，熟悉会计基础知识非常重要。在附录中，您可以找到可帮助您开始学习基本会计的资源。

### 安装会计模块

安装基本模块（如销售和采购）时，Odoo会配置基本的会计结构。 要访问所有会计配置选项，您必须安装会计和财务模块。 如果此应用程序尚未安装在您的配置中，请转到设置并单击应用程序以启动可用的应用程序。 找到会计和财务，然后点击安装安装模块：

安装Accounting and Finance模块后，Odoo顶部的菜单结构将发生变化。 在安装应用程序之前，您可能有一个发票菜单，其中包含销售和采购应用程序的必要选项。 一旦安装了会计和财务模块，“开票”菜单将被替换为“会计”菜单，并填入其他几个选项。

查看当前的会计科目表：我们将从学习如何查看当前的会计科目开始

进入“会计”菜单并选择“顾问adviser”子菜单下的会计科目表。 马上，您将看到按代码列排序的会计科目表：

> 可以在数据库表account_account_tag中把tag销项税改为11%

在前面的屏幕截图中，我们看到当前配置的会计科目表，包括代码，名称和帐户类型。 与以前版本的Odoo不同，Odoo 9不再具有分层结构（或称为嵌套）的帐户。 这可以简化您的会计科目表管理，同时还能让您具备满足您业务需求的会计报告。 

获取有关特定帐户的更多信息：在Odoo 9中，各种报告使用帐户类型来确定是否应包含该帐户，如果是，则在报告的何处包含该帐户。 点击其中一个帐户将显示该帐户以及一个示例报告结构，以便您可以看到如何表示该帐户类型。 

点击会计科目表视图中的“账户应付Account Payable“账户：

您可以在前面的屏幕截图的最右侧看到应付账款在资产负债表报告balance sheet reports中，并且从总资产total assets中扣除它们，为您提供净资产net assert。了解帐户类型如何影响您的报告对于建立成功的业务系统至关重要。通过提供一个快速参考，Odoo使这项工作更容易一点。无论您选择哪个帐户，右侧的面板（报告模板）都不会更改。

了解Odoo中的交易如何发布到会计：在Odoo中发生的所有交易都会创建日记帐分录，用于贷记（credit）或借方（debit）特定帐户。每项日记帐分录必须平衡。这意味着借方必须等于贷方。 Odoo使您可以非常轻松地检查日记帐分录，以便您可以准确查看每笔交易的发布位置。

要查看日记帐分录，请转到“会计”菜单，然后在“顾问”子菜单下单击日记帐分录（Journal Entries）。默认情况下，Odoo将限制日记帐分录的过滤器仅应用于”Miscellaneous Operations“。清除此过滤器以查看所有日记帐分录：

在列表的前面屏幕截图中，您可以看到三个日记帐分录。 

>提示如果在列表中看不到任何日记条目，请确保已清除”Miscellaneous Operations“筛选。 Odoo默认应用它。 

您可以在日记账列表中看到包含金额和状态的概要，以指示日记帐分录是过帐posted还是未过帐。 您还可以在发票日记帐分录中看到我们提供给原始销售订单的参考。 

请注意，日记帐分录摘要不包含对会计和财务中特定帐户的任何引用。 要查看这些详细信息，我们必须点击特定的日记帐分录。 点击最后一个日记账分录，发票￥18.98指定给我们的customer/partner Mike Smith

你将会看到交易的细节，每个科目都会包含其中

当我们打开科目时，我们会看到所有涉及特定科目的信息。 在第一行中，我们可以看到应收帐款Accounts Receivable对于T恤订单发票中扣除了18.98美元。 接下来，在第二行中，Odoo已经在订单上发布了2.48美元的销售税。 这将进入111200税收。 最后，在第三行中，我们看到，对于实际T恤衫本身，价值为16.50美元，记入”200000产品销售额“。

请注意借方与贷方的匹配情况。 日记帐分录中的借项和贷方必须始终相同。 

在这些项目中的每一项下都是关于交易的更多细节。 点击第一行发布到101200应收账款Account Receivable以获取有关该发布的更多详细信息：

在前面的屏幕快照中，您可以使用链接快速查找与发布相关的合作伙伴，帐户，日记帐和日记帐分录。 

如果这仍然有点混乱，不要担心。 我们现在要跟踪应收账款方面的一组交易，以便您更好地了解Odoo如何处理会计交易。

### 通过销售和应收账款流程进行交易

在前面的例子中，我们正在查看会计科目表并确定创建条目的事务。 接下来，我们将向客户出售物品，并确切了解该交易如何影响日记帐中的会计分录。 

首先创建一个新的销售订单。 转到销售并单击销售订单以调出销售订单列表。 点击Create创建一个新的销售订单：


如果您前面已经按照我们的示例创建了订单，那么您已经拥有了客户和产品以创建样品销售订单。 否则，如果您希望在计算机上练习这个例子，则需要添加客户和产品。 在这个例子中，我们创建了五个中型白色T恤衫的销售订单。 确保您点击确认销售来创建销售订单。

>提示:Odoo会自动编号销售订单和其他文件。 在前面的例子中，已经有两个Odoo系统使用的销售订单号。 因此，根据您已使用当前系统完成的操作，您的样品可能没有相同的销售订单号。 

此时，如果您要查看日记帐分录，则不会看到任何日记帐分录。 为什么是这样？ Odoo目前配置的方式，我们必须手动创建发票。 只要您还处于“至发票To Invoice”状态，您就不会在会计中看到任何交易。 

只有当我们点击屏幕顶部的创建发票Create Invoices按钮时，它实际上会创建会计交易。 

点击创建发票为此销售订单生成发票草稿：

Odoo会为您提供一个向导，让您确定您希望如何开票。 请注意，主要区别在于预付定金的处理方式。 由于我们没有预付定金down payments，我们可以采用默认选项Invoiceable lines（扣除预付款）。 如果我们确实有预付定金，那么它将从发票总额中自动扣除。 

点击创建和查看发票：

因为这只是草稿发票，所以如果您查看日记帐分录，则不会看到任何更改。 但是，如果您查看“草稿发票”，如果使用验证发票按钮，则可以准确看到创建的交易。 

在发票的订单项中，您将看到200000 Product Sales帐户。 这将是用于出售客户购买的中型白色T恤衫的帐户。 

选择发票表单上的其他信息页面。 注意帐户下的 显示101200应收账款; 此帐户将记入客户在发票生成后欠客户的金额。 

您还可以看到这张发票将会在111200税收收入帐户中发布$ 12.38：

查看通过验证发票创建的交易：现在，我们已验证了我们的发票，Odoo已自动创建会计交易以增加我们的应收账款资产和会计交易记录销售。 我们现在可以打开日记帐分录并查看新发布的交易：

分配给此特定发票的编号为INV/2017/0001，金额为94.88美元。
>提示:在参考列Reference下，Odoo通常会包含销售订单号＃。 正如您在前面的屏幕截图中所看到的，我们的发票参考列是空白的。 这可能是一个错误，将在未来版本的Odoo10中修复

我们现在可以点击此日记账条目查看交易的详细信息：

在日记帐条目中，您现在可以看到在发送到对应帐户的发票上有我们已经检查过的相同的数字。 101200应收账款账户已扣除94.88美元，以显示代表此客户发票的新的当前资产。 客户欠公司94.88美元。 在创建发票和客户欠你钱时，应收账款将继续增长。 

接下来，您将看到发票的税金是111200应缴税费Tax Received帐户。 通常情况下，您将使用此税收收款账户，以便以后将这笔钱发送给相应的政府机构。 顺便说一下，这将要求您编写一张支票，用于在您的银行账户中扣除贷款（减少其价值），同时在应缴税费账户中记入借方？。 

最后，请注意，200000产品销售帐户已被记入借方82.50美元。 该帐户将继续为您销售的产品记入借方。 

>提示：对于我们的示例，我们只使用一个销售帐户来简化事情。 在大多数公司中，您将拥有更多销售账户来组织销售的各类产品。 

现在让我们看看当客户支付发票时这些账户会发生什么。 

进入会计Accounting并选择客户发票Customer Invoices，然后点击发票以显示form。 点击注册付款Register Payment以显示注册付款form：

对于我们的示例，我们选择了银行（USD）付款方式。 您可以有选择的使用备忘Memo来记录发票付款。 默认情况下，Memo字段将包含销售订单编号，但许多企业也可能希望包含支票编号。 

点击验证按钮来支付发票并创建适当的会计交易。 

发票现已支付，日记帐分录已自动创建，我们现在可以将付款列为新日记帐分录。 

和以前一样，使用“会计”菜单并选择“日记帐分录”以显示日记帐分录的清单：

请注意，我们现在有一个条目号BNK1/2017/0001，也是94.88美元，与发票金额相同。 “日记账”可让您更轻松地组织交易并准确识别哪些帐户将受到影响。 

我们通过点击日记账分录来检查已付款的详细信息：

在这张现金收据中，您会注意到，当我们发布该条目时，我们可以确切地看到哪些帐户会受到影响：
* 101401银行借记debit了94.88美元。 这会增加这个资产账户。
* 101200应收帐款记入$ 94.88。 这会减少这个资产账户。

本质上，该日记账分录将客户欠公司的潜在资产从应收账款转入银行账户。 客户的账户余额减少以反映其付款。

实践发布交易并跟踪结果：请记住，人们花了很多年的时间，甚至在财务会计方面获得了完整的大学学位。 务必花时间了解您实施的每个流程如何影响Odoo中的帐户。 当为贵公司实施ERP系统时，花点时间来解决这个问题。 从长远来看，它会为你免去很多痛苦。


### 设置你自己的会计账户

对于默认的英文安装，Odoo安装标准的美国会计科目表模板。 但是，大多数公司需要修改这张会计科目表，甚至需要建立完全不同的会计科目表以符合其业务需求。 例如，我们将增加一个专门用于T恤衫的额外销售帐户，以便我们可以更好地将我们的销售组织到各类产品中。 

要设置新帐户，请进入会计菜单，然后进入”顾问“部分并选择”会计科目表“。 Odoo会向您显示Odoo中所有当前帐户的列表。 点击创建以添加一个新帐户：

注意：在我们的屏幕上我们已经指定了账户代码为200010.我们为什么选择这个账户代码？ Odoo已经为普通产品销售账户提供了200000。因此，200010是适合我们的T恤销售选择的帐户代码。对于账户的名称，我们简单地将其命名为T恤销售。

另一个重要的设置是账户类型。 Odoo需要知道您设置的帐户类型。因此，**例如，如果您要设置一个帐户来跟踪您为生产产品而必须购买的产品的成本，则应指定一个开支帐户类型expense account type。**

>提示:花点时间在Odoo中规划您的会计科目表。即使您的公司已经使用了现有的会计科目表，评估当前的会计科目表并根据当前的业务状况做出任何改进也是一个好主意。

为您的产品类别指定新帐户:使用Odoo，您可以在产品类别级别管理帐户。 因此，给定类别中的所有产品都可以使用相同的帐户设置。 让我们为我们的中型白色T恤创建一个新的产品类别:T-shirts，并将该类别分配到我们创建的200010 T恤销售帐户。 稍后，我们可以将所有T恤产品添加到此类别中。 

转至库存菜单，在配置部分，从产品子菜单中选择产品类别。 这列出了当前的产品类别：

此时，你会看到我们只有两个类别。 点击创建为我们的T恤产品创建一个新类别：

我们已经命名了我们新的分类T-shirts。 所有T恤产品现在可以归入这个类别。 另请注意，我们将这个分类的父类别设置为所有/可售。这允许您在选择父类别时查看T恤产品以及所有其他产品。

从会计的角度来看，最重要的是我们已经在会计科目表中设置了收入帐户200010 T-shirt Sales。如果发布的发票中包含归属于此产品类别的订单项，则该订单项的金额将过帐到200010 T-Shirt Sales。对于费用科目，我们已经指定了内置的科目220000 Expenses。这会将与此类别中的产品相关的费用过帐到该帐户。

练习：现在尝试进入中型白色T恤的产品记录，并将产品类别设置为T-shirts。创建销售订单，将其转换为发票并验证它。查看日记帐分录，您将在指定的收入帐户中看到您的T恤衫的收入。

请记住，练习使用Odoo是非常重要的，直到您能够舒适地设置帐户并清楚地了解交易发布的位置。在配置过程中投入一点时间和精力将会为您节省很多时间。

检查Odoo中可用的法律报告:与几乎所有会计和财务系统一样，Odoo提供您期望的标准报告，包括以下内容：
* 总帐General Ledger
* 试算表Trial Balance
* 资产负债表Balance Sheet
* 收益与损失Profit and Loss
* 财务报告Financial Report

这些报告有些隐藏在“财务”菜单的中部，在“报告”部分，然后是“会计报告”\| 法律报告：

您选择的每个报告都会显示相应的向导，以指定给定报告的条件。 完成选择并生成报告后，系统将提示您下载包含结果的PDF文件。 虽然生成上面这个屏幕截图里面提到的每一篇报告并不在本书的讨论范围之内，但我们鼓励您花时间检查每篇报告，并确保您了解它如何适合您业务的报告要求。

>提示 随着您向系统添加越来越多的数据，某些会计报告将需要额外的时间来处理。作为进入实施之前的测试的一部分，您应该花时间确保所有会计报告使用模拟真实世界条件的数据，在可接受的性能水平上运行。

创建日记帐分录：当您在系统中执行各种操作时，Odoo会自动创建许多日记帐分录，但您（或您的会计）有时希望创建手工日记帐分录，这是不可避免的。手动日记帐分录允许您以易于追踪和审计的方式调整帐户余额。

就我们的例子而言，我们将创建一个日记帐分录，记录公司所有者的一笔小额投资。当有人把钱投入公司时，他们不会购买任何东西，也不会出售任何东西。虽然还有其他可能的方法，但简单的日记帐分录是准确记录交易的直接方式。

要输入日记帐分录，请转到会计菜单，在日记帐分录部分中选择日记帐分录，然后单击创建按钮：

当您首次创建新的日记帐分录时，您需要选择要发布的日记帐。 对于这种情况，我们举了一个例子，说明我们如何在银行日记账上发布公司所有人对公司的投资。 

我们正在考虑将5000美元的投资作为所有者的现金投资，所以我们已将这些投入到银行日记账中。 

每当您创建日记账条目时，您至少会添加两个订单项。 此外，订单项必须平衡。 在我们的例子中，我们将5000美元的资金从业主转入公司银行账户。

通常，所有者投入公司的任何投资也必须被确认为公司的负债liability。 为什么？ 这笔钱真的不属于公司。 相反，这种情况下的5000美元被认为是所有者权益。 业主有权收回这笔款项，因此将其列为负债liability。 您可以通过打开会计科目表和查看主要账户列表来验证这一点。 负债和资产组合在一起，然后在您深入到账户层次结构中时分摊。 

Odoo设立了一个资本账户，使我们能够将我们投入银行的5,000美元作为资本存入所有者。 一旦您保存日记帐分录，它就处于草稿形式。 要发布日记条目并使其显示在报告中，您必须单击“发布”按钮。


### 总结

在本章中，我们研究了Odoo如何生成交易以及如何使用会计科目表来查看这些交易的来源。我们检查了应付帐款Accounts Payable和应收帐款Accounts Receivable以及发票的过账方式。还有更多高级的Odoo主题，例如银行对帐和经常性条目，这超出了本书的范围。请参阅附录以找到更多高级Odoo主题的其他资源。

在下一章中，我们将看看人力资源（HR）应用程序。人力资源部可以让我们跟踪员工，工作时间以及他们提供的服务。员工可以分配到用户定义的部门并指定为其他员工的管理员。由于您的员工通常也是Odoo系统的用户，因此HR模块与用户管理系统紧密联系，该系统管理访问权限和消息传递。

### And an ordered list:
1.  Item one
1.  Item two
1.  Item three
1.  Item four

### Here is an unordered list:
*   Item foo
*   Item bar
*   Item baz
*   Item zip

> 注释
> **强调注释**

内容

```sh
shell get 'var'
```

```yml
show_downloads: ["true" or "false" to indicate whether to provide a download URL]
google_analytics: [Your Google Analytics tracking ID]
```

```js
// Javascript code with syntax highlighting.
var fun = function lang(l) {
  dateformat.i18n = require('./lang/' + l)
  return true;
}
```

```ruby
# Ruby code with syntax highlighting
GitHubPages::Dependencies.gems.each do |gem, version|
  s.add_dependency(gem, "= #{version}")
end
```

内嵌代码`su root`

[链接](http://123.com/art/abc.htm)

### Small image

![](https://assets-cdn.github.com/images/icons/emoji/octocat.png)

### Large image

![](https://guides.github.com/activities/hello-world/branching.png)

[back](../)
